{% extends 'base.html' %}

{% block container %}
<html lang="en"><head>   <meta charset="utf-8" />     <!-- import plugin script -->   <script src='static/Chart.min.js'></script>   </head><body>
<!-- bar chart canvas element -->
<canvas id="chart" width="600px" height="400px"></canvas>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
<script src='./static/Chart.min.js' ></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.3.0/Chart.js"  ></script>

 <script defer>
     const ctx = document.getElementById('chart').getContext('2d');
     //console.log(new Date('2018-11-02'))
     var d1 = {{tvalues | tojson}}
     var d2 = {{ovalues | tojson}}
const data = {
    // Labels should be Date objects
  //  labels: [new Date(2017, 08, 16), new Date(2017, 08, 17), new Date(2017, 08, 18)],
    labels : {{labels | tojson}},
    datasets: [{
        fill: false,
        label: 'Your Portfolio',
        data: d1,
        borderColor: '#fe8b36',
        backgroundColor: '#fe8b36',
        lineTension: 0
    },{   fill: false,
        label: 'Our Portfolio',
        data: d2,
        borderColor: 'red',
        backgroundColor: 'red',
        lineTension: 0
        }]
}
const options = {
    type: 'line',
    data: data,
    options: {
        elements: { point: { radius: 0 } },
        fill: false,
        responsive: true,
        scales: {
            xAxes: [{
                type: 'time',
                display: true,
                scaleLabel: {
                    display: true,
                    labelString: "Date",
                }
            }],
            yAxes: [{
                ticks: {
                    beginAtZero: true,
                },
                display: true,
                scaleLabel: {
                    display: true,
                    labelString: "Value",
                }
            }]
        }
    }
}
const chart = new Chart(ctx, options);
    </script>
    </body></html>
{% endblock %}
